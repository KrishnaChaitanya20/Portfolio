import { useEffect, useState } from 'react';

const ScrollHint = () => {
  const [isVisible, setIsVisible] = useState(true);
  const [fadeOut, setFadeOut] = useState(false);

  useEffect(() => {
    const handleScroll = () => {
      if (window.scrollY < 150) {
        if (!isVisible) {
          setFadeOut(false);
          setIsVisible(true);
        }
      } else {
        if (isVisible) {
          setFadeOut(true);
          setTimeout(() => setIsVisible(false), 500);
        }
      }
    };
    
    window.addEventListener('scroll', handleScroll);
    return () => {
      window.removeEventListener('scroll', handleScroll);
    };
  }, [isVisible]);

  return (
    <div className={`hint fixed right-4 bottom-4 z-50 ${fadeOut ? 'fade-out' : ''} ${!isVisible ? 'hidden' : ''}`}>
      <svg width="41" height="58" viewBox="0 0 41 58" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g id="scrollHint">
          <path id="hintText" d="M11.8295 5.45455C11.7784 5.02273 11.571 4.6875 11.2074 4.44886C10.8438 4.21023 10.3977 4.09091 9.86932 4.09091C9.48295 4.09091 9.14489 4.15341 8.85511 4.27841C8.56818 4.40341 8.34375 4.57528 8.18182 4.79403C8.02273 5.01278 7.94318 5.26136 7.94318 5.53977C7.94318 5.77273 7.99858 5.97301 8.10938 6.14062C8.22301 6.3054 8.3679 6.44318 8.54403 6.55398C8.72017 6.66193 8.90483 6.75142 9.09801 6.82244C9.29119 6.89062 9.46875 6.94602 9.63068 6.98864L10.517 7.22727C10.7443 7.28693 10.9972 7.36932 11.2756 7.47443C11.5568 7.57955 11.8253 7.72301 12.081 7.90483C12.3395 8.08381 12.5526 8.31392 12.7202 8.59517C12.8878 8.87642 12.9716 9.22159 12.9716 9.63068C12.9716 10.1023 12.848 10.5284 12.6009 10.9091C12.3565 11.2898 11.9986 11.5923 11.527 11.8168C11.0582 12.0412 10.4886 12.1534 9.81818 12.1534C9.19318 12.1534 8.65199 12.0526 8.1946 11.8509C7.74006 11.6491 7.3821 11.3679 7.12074 11.0071C6.86222 10.6463 6.71591 10.2273 6.68182 9.75H7.77273C7.80114 10.0795 7.91193 10.3523 8.10511 10.5682C8.30114 10.7812 8.5483 10.9403 8.84659 11.0455C9.14773 11.1477 9.47159 11.1989 9.81818 11.1989C10.2216 11.1989 10.5838 11.1335 10.9048 11.0028C11.2259 10.8693 11.4801 10.6847 11.6676 10.4489C11.8551 10.2102 11.9489 9.93182 11.9489 9.61364C11.9489 9.32386 11.8679 9.08807 11.706 8.90625C11.544 8.72443 11.331 8.5767 11.0668 8.46307C10.8026 8.34943 10.517 8.25 10.2102 8.16477L9.13636 7.85795C8.45455 7.66193 7.91477 7.3821 7.51705 7.01847C7.11932 6.65483 6.92045 6.17898 6.92045 5.59091C6.92045 5.10227 7.05256 4.67614 7.31676 4.3125C7.58381 3.94602 7.94176 3.66193 8.39062 3.46023C8.84233 3.25568 9.34659 3.15341 9.90341 3.15341C10.4659 3.15341 10.9659 3.25426 11.4034 3.45597C11.8409 3.65483 12.1875 3.92756 12.4432 4.27415C12.7017 4.62074 12.8381 5.0142 12.8523 5.45455H11.8295ZM17.2319 12.1364C16.6183 12.1364 16.0898 11.9915 15.6467 11.7017C15.2035 11.4119 14.8626 11.0128 14.6239 10.5043C14.3853 9.99574 14.266 9.41477 14.266 8.76136C14.266 8.09659 14.3881 7.50994 14.6325 7.00142C14.8796 6.49006 15.2234 6.09091 15.6637 5.80398C16.1069 5.5142 16.6239 5.36932 17.2148 5.36932C17.6751 5.36932 18.0898 5.45455 18.4592 5.625C18.8285 5.79545 19.131 6.03409 19.3668 6.34091C19.6026 6.64773 19.7489 7.00568 19.8058 7.41477H18.8001C18.7234 7.11648 18.5529 6.85227 18.2887 6.62216C18.0273 6.3892 17.6751 6.27273 17.2319 6.27273C16.8398 6.27273 16.4961 6.375 16.2006 6.57955C15.908 6.78125 15.6793 7.06676 15.5146 7.43608C15.3526 7.80256 15.2717 8.23295 15.2717 8.72727C15.2717 9.23295 15.3512 9.6733 15.5103 10.0483C15.6722 10.4233 15.8995 10.7145 16.1921 10.9219C16.4876 11.1293 16.8342 11.233 17.2319 11.233C17.4933 11.233 17.7305 11.1875 17.9435 11.0966C18.1566 11.0057 18.337 10.875 18.4847 10.7045C18.6325 10.5341 18.7376 10.3295 18.8001 10.0909H19.8058C19.7489 10.4773 19.6083 10.8253 19.3839 11.1349C19.1623 11.4418 18.8683 11.6861 18.5018 11.8679C18.1381 12.0469 17.7148 12.1364 17.2319 12.1364ZM21.2759 12V5.45455H22.2475V6.44318H22.3157C22.435 6.11932 22.6509 5.85653 22.9634 5.65483C23.2759 5.45312 23.6282 5.35227 24.0202 5.35227C24.0941 5.35227 24.1864 5.35369 24.2972 5.35653C24.408 5.35937 24.4918 5.36364 24.5487 5.36932V6.39205C24.5146 6.38352 24.4364 6.37074 24.3143 6.35369C24.195 6.33381 24.0685 6.32386 23.935 6.32386C23.6168 6.32386 23.3327 6.39062 23.0827 6.52415C22.8356 6.65483 22.6396 6.83665 22.4947 7.0696C22.3526 7.29972 22.2816 7.5625 22.2816 7.85795V12H21.2759ZM28.2006 12.1364C27.6097 12.1364 27.0913 11.9957 26.6452 11.7145C26.2021 11.4332 25.8555 11.0398 25.6055 10.5341C25.3583 10.0284 25.2347 9.4375 25.2347 8.76136C25.2347 8.07955 25.3583 7.48437 25.6055 6.97585C25.8555 6.46733 26.2021 6.07244 26.6452 5.79119C27.0913 5.50994 27.6097 5.36932 28.2006 5.36932C28.7915 5.36932 29.3086 5.50994 29.7518 5.79119C30.1978 6.07244 30.5444 6.46733 30.7915 6.97585C31.0415 7.48437 31.1665 8.07955 31.1665 8.76136C31.1665 9.4375 31.0415 10.0284 30.7915 10.5341C30.5444 11.0398 30.1978 11.4332 29.7518 11.7145C29.3086 11.9957 28.7915 12.1364 28.2006 12.1364ZM28.2006 11.233C28.6495 11.233 29.0188 11.1179 29.3086 10.8878C29.5984 10.6577 29.8129 10.3551 29.9521 9.98011C30.0913 9.60511 30.1609 9.19886 30.1609 8.76136C30.1609 8.32386 30.0913 7.91619 29.9521 7.53835C29.8129 7.16051 29.5984 6.85511 29.3086 6.62216C29.0188 6.3892 28.6495 6.27273 28.2006 6.27273C27.7518 6.27273 27.3825 6.3892 27.0927 6.62216C26.8029 6.85511 26.5884 7.16051 26.4492 7.53835C26.31 7.91619 26.2404 8.32386 26.2404 8.76136C26.2404 9.19886 26.31 9.60511 26.4492 9.98011C26.5884 10.3551 26.8029 10.6577 27.0927 10.8878C27.3825 11.1179 27.7518 11.233 28.2006 11.233ZM33.7074 3.27273V12H32.7017V3.27273H33.7074ZM36.555 3.27273V12H35.5494V3.27273H36.555ZM9.75 27H7.05682V18.2727H9.86932C10.7159 18.2727 11.4403 18.4474 12.0426 18.7969C12.6449 19.1435 13.1065 19.642 13.4276 20.2926C13.7486 20.9403 13.9091 21.7159 13.9091 22.6193C13.9091 23.5284 13.7472 24.3111 13.4233 24.9673C13.0994 25.6207 12.6278 26.1236 12.0085 26.4759C11.3892 26.8253 10.6364 27 9.75 27ZM8.11364 26.0625H9.68182C10.4034 26.0625 11.0014 25.9233 11.4759 25.6449C11.9503 25.3665 12.304 24.9702 12.5369 24.456C12.7699 23.9418 12.8864 23.3295 12.8864 22.6193C12.8864 21.9148 12.7713 21.3082 12.5412 20.7997C12.3111 20.2884 11.9673 19.8963 11.5099 19.6236C11.0526 19.348 10.483 19.2102 9.80114 19.2102H8.11364V26.0625ZM18.2045 27.1364C17.6136 27.1364 17.0952 26.9957 16.6491 26.7145C16.206 26.4332 15.8594 26.0398 15.6094 25.5341C15.3622 25.0284 15.2386 24.4375 15.2386 23.7614C15.2386 23.0795 15.3622 22.4844 15.6094 21.9759C15.8594 21.4673 16.206 21.0724 16.6491 20.7912C17.0952 20.5099 17.6136 20.3693 18.2045 20.3693C18.7955 20.3693 19.3125 20.5099 19.7557 20.7912C20.2017 21.0724 20.5483 21.4673 20.7955 21.9759C21.0455 22.4844 21.1705 23.0795 21.1705 23.7614C21.1705 24.4375 21.0455 25.0284 20.7955 25.5341C20.5483 26.0398 20.2017 26.4332 19.7557 26.7145C19.3125 26.9957 18.7955 27.1364 18.2045 27.1364ZM18.2045 26.233C18.6534 26.233 19.0227 26.1179 19.3125 25.8878C19.6023 25.6577 19.8168 25.3551 19.956 24.9801C20.0952 24.6051 20.1648 24.1989 20.1648 23.7614C20.1648 23.3239 20.0952 22.9162 19.956 22.5384C19.8168 22.1605 19.6023 21.8551 19.3125 21.6222C19.0227 21.3892 18.6534 21.2727 18.2045 21.2727C17.7557 21.2727 17.3864 21.3892 17.0966 21.6222C16.8068 21.8551 16.5923 22.1605 16.4531 22.5384C16.3139 22.9162 16.2443 23.3239 16.2443 23.7614C16.2443 24.1989 16.3139 24.6051 16.4531 24.9801C16.5923 25.3551 16.8068 25.6577 17.0966 25.8878C17.3864 26.1179 17.7557 26.233 18.2045 26.233ZM23.9659 27L21.9716 20.4545H23.0284L24.4432 25.4659H24.5114L25.9091 20.4545H26.983L28.3636 25.4489H28.4318L29.8466 20.4545H30.9034L28.9091 27H27.9205L26.4886 21.9716H26.3864L24.9545 27H23.9659ZM33.2386 23.0625V27H32.233V20.4545H33.2045V21.4773H33.2898C33.4432 21.1449 33.6761 20.8778 33.9886 20.6761C34.3011 20.4716 34.7045 20.3693 35.1989 20.3693C35.642 20.3693 36.0298 20.4602 36.3622 20.642C36.6946 20.821 36.9531 21.0938 37.1378 21.4602C37.3224 21.8239 37.4148 22.2841 37.4148 22.8409V27H36.4091V22.9091C36.4091 22.3949 36.2756 21.9943 36.0085 21.7074C35.7415 21.4176 35.375 21.2727 34.9091 21.2727C34.5881 21.2727 34.3011 21.3423 34.0483 21.4815C33.7983 21.6207 33.6009 21.8239 33.456 22.0909C33.3111 22.358 33.2386 22.6818 33.2386 23.0625Z" fill="white"/>
          <g id="downArrow">
            <path id="Icon" d="M10.25 36.75L20.5 45.25L30.75 36.75" stroke="#D9D9D9" strokeWidth="4" strokeLinecap="round" strokeLinejoin="round"/>
          </g>
        </g>
      </svg>
    </div>
  );
};

export default ScrollHint;
